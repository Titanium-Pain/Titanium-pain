{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        enemyCount:0,\r\n        spawnNumber:0,\r\n        wave:0,\r\n        clearwave:5,\r\n        enemyPrefab:{\r\n            default:null,\r\n            type:cc.Prefab,\r\n        },\r\n        player:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        bgm:{\r\n            default:null,\r\n            url:cc.AudioClip,\r\n        },\r\n        waveDisplay:{\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n        this.enemyCount=0;\r\n        this.wave=0;\r\n        window.Global.score=0;\r\n        //console.log(enemyCount);\r\n        var diffculty= window.Global.diffculty;\r\n        //console.log(cc.game.isPersistRootNode(this.passarg));\r\n        //console.log(\"diffculty\"+diffculty)\r\n        switch(diffculty){\r\n            case 0:\r\n                this.spawnNumber=5;\r\n                break;\r\n            case 1:\r\n                this.spawnNumber=15;\r\n                break;\r\n            case 2:\r\n                this.spawnNumber=35;\r\n                break;\r\n            case 3:\r\n                this.spawnNumber=50;\r\n                break;\r\n        }\r\n        cc.audioEngine.playMusic(this.bgm);\r\n        //console.log(\"onLoad \"+this.spawnNumber);\r\n    },\r\n    \r\n    randomPosition:function(){\r\n        var playerx=0;\r\n        var playery=0;\r\n        playerx=this.player.x;\r\n        playery=this.player.y;\r\n        var randx=0;\r\n        var randy=0;\r\n        var maxx=this.node.width/2;\r\n        var maxy=this.node.height/2;\r\n        randx = cc.randomMinus1To1() * maxx;\r\n        randy = cc.randomMinus1To1() * maxy;\r\n        while((((randx-playerx)*(randx-playerx))+((randy-playery)*(randy-playery)))<45000){\r\n            randx = cc.randomMinus1To1() * maxx;\r\n            randy = cc.randomMinus1To1() * maxy;\r\n        }\r\n        return cc.p(randx,randy);\r\n    },\r\n    \r\n    spawnAnEnemy:function(){\r\n      var newEnemy = cc.instantiate(this.enemyPrefab);\r\n      this.node.addChild(newEnemy); \r\n      newEnemy.setPosition(this.randomPosition());\r\n      newEnemy.getComponent('EnemyScript').game = this;\r\n      this.enemyCount++;\r\n      //log(\"spawn an enemy \"+this.enemyCount);\r\n    },\r\n    \r\n    \r\n    spawnEnemy:function(){\r\n        //console.log(this.spawnNumber);\r\n        for(var i=0;i<this.spawnNumber;i++){\r\n            this.spawnAnEnemy();\r\n        }\r\n    },\r\n    \r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        //console.log(this.enemyCount);\r\n        if(this.enemyCount<=0){\r\n            this.wave++;\r\n            if(this.wave>this.clearwave){\r\n                cc.director.loadScene(\"Finish\");\r\n            }\r\n            this.spawnNumber+=5;\r\n            this.spawnEnemy();\r\n            this.waveDisplay.string='Wave:'+ this.wave.toString()\r\n        }\r\n    },\r\n});\r\n"
  ]
}